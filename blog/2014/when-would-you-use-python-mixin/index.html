<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="When would you use a Python mixin?" />
<meta property="og:description" content="That&rsquo;s not a rhetorical question. I&rsquo;d like to know in which scenarios a mixin in python really is
the best option. I can&rsquo;t seem to think of any, but maybe I&rsquo;m not thinking outside the box enough.

The basic idea of a mixin is to create a small re-usable class that can &ldquo;plug-in&rdquo; to other larger
classes. From the wikipedia definition, a mixin is a way to compose classes together without
using inheritance. The problem is unlike ruby, python mixins are a purely conceptual construct.
Python mixins are inheritance (the only difference is that the class name usually contains
&lsquo;Mixin&rsquo;). It is up to the developer to remember this, and to manually avoid all of the common
pitfalls of multiple inheritance. This kind of defeats the whole purpose of the mixin in the first
place. What&rsquo;s more is that most people use python mixins improperly.

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ahal.ca/blog/2014/when-would-you-use-python-mixin/" />



<meta property="article:published_time" content="2014-05-24T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2014-05-24T00:00:00&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="When would you use a Python mixin?"/>
<meta name="twitter:description" content="That&rsquo;s not a rhetorical question. I&rsquo;d like to know in which scenarios a mixin in python really is
the best option. I can&rsquo;t seem to think of any, but maybe I&rsquo;m not thinking outside the box enough.

The basic idea of a mixin is to create a small re-usable class that can &ldquo;plug-in&rdquo; to other larger
classes. From the wikipedia definition, a mixin is a way to compose classes together without
using inheritance. The problem is unlike ruby, python mixins are a purely conceptual construct.
Python mixins are inheritance (the only difference is that the class name usually contains
&lsquo;Mixin&rsquo;). It is up to the developer to remember this, and to manually avoid all of the common
pitfalls of multiple inheritance. This kind of defeats the whole purpose of the mixin in the first
place. What&rsquo;s more is that most people use python mixins improperly.

"/>
<meta name="generator" content="Hugo 0.38.2" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "When would you use a Python mixin?",
  "url": "https://ahal.ca/blog/2014/when-would-you-use-python-mixin/",
  "wordCount": "381",
  "datePublished": "2014-05-24T00:00:00&#43;00:00",
  "dateModified": "2014-05-24T00:00:00&#43;00:00",
  "author": {
    "@type": "Person",
    "name": "Andrew Halberstadt"
  },
  "keywords": "ateam, mozilla, programming, python"
}
</script>



    <link rel="canonical" href="https://ahal.ca/blog/2014/when-would-you-use-python-mixin/">

    <title>When would you use a Python mixin? | Hunting the Shmoo</title>

    <!-- combined, minified CSS -->
    <link href="https://ahal.ca/css/style.css" rel="stylesheet" integrity="sha384-ZwlQQbzhEPf3PrXZ3h/XKT/4UHafQ/TYI72AL&#43;7WOJ8D6JmpGC8JMMse6xX7cyeI" crossorigin="anonymous">

    

    

    

    <link rel="shortcut icon" href="/favicon.png">
<link href="https://ahal.ca/css/override.css" rel="stylesheet">
<script type="text/javascript" src="/js/menu.js"></script>

  </head>

  <body>

    
    <div class="blog-masthead">
  <div class="container">
    <nav class="nav blog-nav">
      <a class="nav-link" href="https://ahal.ca/"></a>
      
      <a class="nav-link active" href="/blog/" title="">Blog</a>
      
    </nav>
  </div>
</div>

    

    
    
    

    
    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="https://ahal.ca/blog/2014/when-would-you-use-python-mixin/">When would you use a Python mixin?</a></h2>
    <p class="blog-post-meta"><time datetime="2014-05-24T00:00:00Z">May 24, 2014</time> by Andrew Halberstadt in 

<i class="fa fa-tag" aria-hidden="true"></i>&nbsp;<a href="/tags/ateam" rel="tag">ateam</a>, <a href="/tags/mozilla" rel="tag">mozilla</a>, <a href="/tags/programming" rel="tag">programming</a>, <a href="/tags/python" rel="tag">python</a>

</p>
  </header>
  <p>That&rsquo;s not a rhetorical question. I&rsquo;d like to know in which scenarios a mixin in python really is
the best option. I can&rsquo;t seem to think of any, but maybe I&rsquo;m not thinking outside the box enough.</p>

<p>The basic idea of a mixin is to create a small re-usable class that can &ldquo;plug-in&rdquo; to other larger
classes. From the <a href="http://en.wikipedia.org/wiki/Mixin">wikipedia definition</a>, a mixin is a way to compose classes together <em>without</em>
using inheritance. The problem is unlike ruby, python mixins are a purely conceptual construct.
Python mixins <em>are</em> inheritance (the only difference is that the class name usually contains
&lsquo;Mixin&rsquo;). It is up to the developer to remember this, and to manually avoid all of the common
pitfalls of multiple inheritance. This kind of defeats the whole purpose of the mixin in the first
place. What&rsquo;s more is that most people use python mixins improperly.</p>

<p></p>

<p>Consider the following example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> book <span style="color:#f92672">import</span> Book
<span style="color:#f92672">from</span> index <span style="color:#f92672">import</span> IndexMixin

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TextBook</span>(Book, IndexMixin):
    <span style="color:#66d9ef">def</span> __init__(self, name, contents, edition<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;1st&#39;</span>):
        Book<span style="color:#f92672">.</span>__init__(self, name, contents)
        self<span style="color:#f92672">.</span>edition <span style="color:#f92672">=</span> edition

t <span style="color:#f92672">=</span> TextBook(<span style="color:#e6db74">&#39;Learn Python the Hard Way&#39;</span>)
t<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;python&#39;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#ae81ff">0</span> results found</code></pre></div>
<p>Here we correctly use inheritance to denote <code>Book</code> as a base class, a textbook <em>is a</em> book. We use
an <code>IndexMixin</code> because textbooks aren&rsquo;t indices, they <em>have an</em> index. We then instantiate it and
search the book for the string &lsquo;python&rsquo;. Wait a minute, how can a textbook about python not contain
the word python? In python, the multiple inheritance chain is read <em>right to left</em>, this means
that IndexMixin is technically the base class here. It just so happens that <code>IndexMixin</code> also has a
function called <code>search</code> which overrides the one defined in <code>Book</code>.</p>

<p>It turns out there&rsquo;s another way to compose classes together without using inheritance. Just <em>use</em>
the class (or module) directly:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> book <span style="color:#f92672">import</span> Book
<span style="color:#f92672">from</span> index <span style="color:#f92672">import</span> Index

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TextBook</span>(Book):
    <span style="color:#66d9ef">def</span> __init__(self, name, contents, edition<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;1st&#39;</span>):    
        Book<span style="color:#f92672">.</span>__init__(self, name, contents)
        self<span style="color:#f92672">.</span>edition <span style="color:#f92672">=</span> edition
        self<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> Index()

t <span style="color:#f92672">=</span> TextBook(<span style="color:#e6db74">&#39;Learn Python the Hard Way&#39;</span>)
t<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;python&#39;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> Many results found

t<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;python&#39;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#ae81ff">0</span> results found</code></pre></div>
<p>If the relationship between objects A and B is &ldquo;A is a B&rdquo;, then B is a base class, not a mixin. If
the relationship is &ldquo;A has a B&rdquo;, then why not use composition? What benefit does a mixin give you?</p>

  

  
  <hr>
  <footer>

  
    <section>
    <h4>Share</h4>
    <nav class="nav sharing-icons">
      <a class="nav-item" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fahal.ca%2fblog%2f2014%2fwhen-would-you-use-python-mixin%2f" title="Share on Facebook"><span class="fa fa-facebook fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://plus.google.com/share?url=https%3a%2f%2fahal.ca%2fblog%2f2014%2fwhen-would-you-use-python-mixin%2f" title="Share on Google+"><span class="fa fa-google-plus fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fahal.ca%2fblog%2f2014%2fwhen-would-you-use-python-mixin%2f" title="Share on LinkedIn"><span class="fa fa-linkedin fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://twitter.com/home?status=https%3a%2f%2fahal.ca%2fblog%2f2014%2fwhen-would-you-use-python-mixin%2f" title="Tweet this"><span class="fa fa-twitter fa-2x"></span></a>
    </nav>
  </section>

  

  
  <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ahal" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  
  </footer>
  

</article> 



        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  

  
        <section class="sidebar-module">
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">


<li><a href="/blog/2017/mach-try-fuzzy/">Try Fuzzy: A Try Syntax Alternative</a></li>

<li><a href="/blog/2017/mercurial-absorb/">Absorbing Changes into a Commit Series with Mercurial</a></li>

<li><a href="/blog/2017/fuzzy-try-chooser/">A Course of Action for Replacing Try Syntax</a></li>

<li><a href="/blog/2016/taskcluster-interactive-loaner/">Using One Click Loaner to Debug Failures</a></li>

<li><a href="/blog/2016/zen-of-mach/">The Zen of Mach</a></li>

<li><a href="/blog/2015/try-syntax/">Looking beyond Try Syntax</a></li>

<li><a href="/blog/2015/making-mercurial-bookmarks-more-git-like/">Making mercurial bookmarks more git-like</a></li>

<li><a href="/blog/2015/new-mercurial-workflow-part-2/">The New Mercurial Workflow - Part 2</a></li>

<li><a href="/blog/2014/consume-structured-test-results/">How to Consume Structured Test Results</a></li>

<li><a href="/blog/2014/new-mercurial-workflow/">The New Mercurial Workflow</a></li>

    </ol>
  </section>

  

  

  
  <section class="sidebar-module tag-cloud">
    <h4>Tag Cloud</h4>
    
    
        
            
            <a href="/tags/mozilla">mozilla</a>
        
    
        
            
            <a href="/tags/ateam">ateam</a>
        
    
        
            
            <a href="/tags/b2g">b2g</a>
        
    
        
            
            <a href="/tags/mercurial">mercurial</a>
        
    
        
            
            <a href="/tags/mach">mach</a>
        
    
        
            
            <a href="/tags/programming">programming</a>
        
    
        
            
            <a href="/tags/try">try</a>
        
    
        
            
            <a href="/tags/fzf">fzf</a>
        
    
        
            
            <a href="/tags/mozconfigwrapper">mozconfigwrapper</a>
        
    
        
            
            <a href="/tags/mozmill">mozmill</a>
        
    
        
            
            <a href="/tags/python">python</a>
        
    
        
            
            <a href="/tags/absorb">absorb</a>
        
    
        
            
            <a href="/tags/addon">addon</a>
        
    
        
            
            <a href="/tags/android">android</a>
        
    
        
            
            <a href="/tags/bookbinder">bookbinder</a>
        
    
        
            
            <a href="/tags/cycling">cycling</a>
        
    
        
            
            <a href="/tags/django">django</a>
        
    
        
            
            <a href="/tags/mozharness">mozharness</a>
        
    
        
            
            <a href="/tags/mozprofile">mozprofile</a>
        
    
        
            
            <a href="/tags/music">music</a>
        
    
        
            
            <a href="/tags/peptest">peptest</a>
        
    
        
            
            <a href="/tags/qqver">qqver</a>
        
    
        
            
            <a href="/tags/reddit">reddit</a>
        
    
        
            
            <a href="/tags/reftest">reftest</a>
        
    
        
            
            <a href="/tags/taskcluster">taskcluster</a>
        
    
        
            
            <a href="/tags/test-informant">test-informant</a>
        
    
        
            
            <a href="/tags/toronto">toronto</a>
        
    
  </section>
  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->
    

    
    <footer class="blog-footer">
  <p>
  
  © 2018 Andrew Halberstadt
  
  </p>
  <p>
  <a href="#">Back to top</a>
  </p>
</footer>

    
  </body>

</html>
