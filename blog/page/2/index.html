<!DOCTYPE html>
<html lang="en" >

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta property="og:title" content="Blogs" />
<meta property="og:description" content="Screencasts and blog posts on workflow, productivity, tools, Mozilla and whatever else tickles my fancy." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://ahal.ca/blog/" />
<meta property="og:updated_time" content="2021-04-27T09:33:31-04:00" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Blogs"/>
<meta name="twitter:description" content="Screencasts and blog posts on workflow, productivity, tools, Mozilla and whatever else tickles my fancy."/>
<meta name="generator" content="Hugo 0.101.0" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Blog",
  "headline": "Hunting the Shmoo",
  "url" : "https:\/\/ahal.ca\/blog\/",
  "author": {
    "@type": "Person",
    "name": "Andrew Halberstadt"
  },
  "dateModified": "2021-04-27T09:33:31-04:00",
  "keywords": "absorb,addon,android,ateam,b2g,bookbinder,ci,cycling,devops,django,fzf,hugo,jetty,mach,machine-learning,mercurial,mozconfigwrapper,mozharness,mozilla,mozmill,mozprofile,music,peptest,phabricator,productivity,programming,python,qqver,reddit,reftest,staticman,taskcluster,taskgraph,test-informant,tips-and-tricks,toronto,try,website,",
  "description": "Screencasts and blog posts on workflow, productivity, tools, Mozilla and whatever else tickles my fancy."
}
</script>


    <link rel="canonical" href="https://ahal.ca/blog/">

    <title>Hunting the Shmoo</title>

    
    <!-- combined, minified CSS -->
    
    <link href="https://ahal.ca/css/style.beb8012edc08ba10be012f079d618dc243812267efe62e11f22fe49618f976a4.css" rel="stylesheet" integrity="sha256-vrgBLtwIuhC&#43;AS8HnWGNwkOBImfv5i4R8i/klhj5dqQ=" crossorigin="anonymous">
    

    <!-- minified Font Awesome for SVG icons -->
    
    <script defer src="https://ahal.ca/js/fontawesome.min.ffbfea088a9a1666ec65c3a8cb4906e2a0e4f92dc70dbbf400a125ad2422123a.js" integrity="sha256-/7/qCIqaFmbsZcOoy0kG4qDk&#43;S3HDbv0AKElrSQiEjo=" crossorigin="anonymous"></script>

    <!-- RSS 2.0 feed -->
    <link rel="alternate" type="application/rss+xml" href="https://ahal.ca/blog/index.xml" title="Hunting the Shmoo" />
    

    <link rel="shortcut icon" href="/favicon.png">
<link href="https://ahal.ca/css/bootstrap.min.css" rel="stylesheet">
<link href="https://ahal.ca/css/override.css" rel="stylesheet">
<link href="https://ahal.ca/css/debugprint.css" rel="stylesheet">
<script type="text/javascript" src="/js/menu.js"></script>

  </head>

  <body>

    
    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link " href="https://ahal.ca/">Home</a>
          
          <a class="nav-link" href="/blog/" title="">Blog</a>
          
          
          <a class="nav-link" href="/casts/" title="">Casts</a>
          
        </nav>
      </div>
    </div>
    

    




    
    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2019/fragmented-communication/">The Cost of Fragmented Communication</a></h2>
    <p class="blog-post-meta"><time datetime="2019-05-21T15:04:33-04:00">May 21, 2019</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/mozilla/" rel="tag">mozilla</a>

</p>
  </header>
  <p>Mozilla <a href="http://exple.tive.org/blarg/2019/04/26/synchronous-text/">recently announced</a> that we are planning to de-commission <code>irc.mozilla.org</code> in favour
of a yet to be determined solution. As a long time user and supporter of IRC, this decision causes
me some melancholy, but I 100% believe that it is the right call. Moreover, having had an inside
glimpse at the process to replace it, I&rsquo;m supremely confident whatever is chosen will be the best
option for Mozilla&rsquo;s needs.</p>
<p>I&rsquo;m not here to explain why deprecating IRC is a good idea. <a href="http://exple.tive.org/blarg/2018/11/09/the-evolution-of-open/">Other</a> <a href="https://blog.humphd.org/irc-mozilla-org/">people</a> have
already done so much more eloquently than I ever could have. I&rsquo;m also not here to push for a
specific replacement. Arguing over chat applications is like arguing over editors or version
control. Yes, there are real and important differences from one application to the next, but if
there&rsquo;s one thing we&rsquo;re spoiled for in 2019 it&rsquo;s chat applications. Besides, so much time has been
spent thinking about the <a href="http://exple.tive.org/blarg/2019/05/03/goals-and-constraints/">requirements</a>, there&rsquo;s little anyone could say on the matter that
hasn&rsquo;t already been considered for hours.</p>
<p>This post is about an unrelated, but adjacent issue. An issue that began when <code>mozilla.slack.com</code>
first came online, an issue that will likely persist long after <code>irc.mozilla.org</code> rides off into
the sunset. An issue I don&rsquo;t think is brought up enough, and which I&rsquo;m hoping to start some
discussion on now that communication is on everyone&rsquo;s mind. I&rsquo;m talking about using two
communication platforms at once. For now Slack and IRC, soon to be Slack and something else.</p>
<p>Different platform, same problem.</p>
  <a href='https://ahal.ca/blog/2019/fragmented-communication/'>Read more →</a>
</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2019/python-3-at-mozilla/">Python 3 at Mozilla</a></h2>
    <p class="blog-post-meta"><time datetime="2019-04-30T15:25:50-04:00">Apr 30, 2019</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/mozilla/" rel="tag">mozilla</a>, <a href="/tags/python/" rel="tag">python</a>, <a href="/tags/jetty/" rel="tag">jetty</a>

</p>
  </header>
  <p>Mozilla uses a lot of Python. Most of our build system, CI configuration, test harnesses, command
line tooling and countless other scripts, tools or Github projects are all handled by Python. In
mozilla-central there are over 3500 Python files (excluding third party files), comprising roughly
230k lines of code. Additionally there are <a href="https://github.com/mozilla?utf8=%E2%9C%93&amp;q=&amp;type=&amp;language=python">462 repositories</a> labelled with Python in the Mozilla
org on Github (though many of these are not active). That&rsquo;s a lot of Python, and most of it is
Python 2.</p>
<p>With Python 2&rsquo;s exaugural year well underway, it is a good time to take stock of the situation and
ask some questions. How far along has Mozilla come in the Python 3 migration? Which large work items
lie on the critical path? And do we have a plan to get to a good state in time for Python 2&rsquo;s EOL on
January 1st, 2020?</p>
  <a href='https://ahal.ca/blog/2019/python-3-at-mozilla/'>Read more →</a>
</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2018/website-refresh/">A New Look and Feel (and everything else)</a></h2>
    <p class="blog-post-meta"><time datetime="2018-05-14T00:00:00Z">May 14, 2018</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/website/" rel="tag">website</a>, <a href="/tags/hugo/" rel="tag">hugo</a>, <a href="/tags/staticman/" rel="tag">staticman</a>

</p>
  </header>
  <p>I&rsquo;ve recently redone my website and wanted to document a few of the changes and motivations behind
them.</p>
  <a href='https://ahal.ca/blog/2018/website-refresh/'>Read more →</a>
</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2017/mach-try-fuzzy/">Try Fuzzy: A Try Syntax Alternative</a></h2>
    <p class="blog-post-meta"><time datetime="2017-08-02T00:00:00Z">Aug 02, 2017</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/ateam/" rel="tag">ateam</a>, <a href="/tags/fzf/" rel="tag">fzf</a>, <a href="/tags/mozilla/" rel="tag">mozilla</a>, <a href="/tags/try/" rel="tag">try</a>

</p>
  </header>
  <p>It&rsquo;s no secret that I&rsquo;m not a fan of try syntax, it&rsquo;s a topic I&rsquo;ve blogged about on <a href="https://ahal.ca/blog/2015/try-syntax/">several</a>
<a href="https://ahal.ca/blog/2017/fuzzy-try-chooser/">occasions</a> before. Today, I&rsquo;m pleased to announce that there&rsquo;s a real alternative now landed on
mozilla-central. It works on all platforms with mercurial and git. For those who just like to dive in:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ mach mercurial-setup --update  <span style="color:#75715e"># only if using hg</span>
</span></span><span style="display:flex;"><span>$ mach try fuzzy
</span></span></code></pre></div><p>This will prompt you to install <a href="https://github.com/junegunn/fzf">fzf</a>. After bootstrapping is finished, you&rsquo;ll enter an interface
populated with a list of all possible taskcluster tasks. Start typing and the list will be filtered
down using a fuzzy matching algorithm. I won&rsquo;t go into details on how to use this tool in this blog
post, for that see:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ mach try fuzzy --help  <span style="color:#75715e"># or</span>
</span></span><span style="display:flex;"><span>$ man fzf
</span></span></code></pre></div>
  <a href='https://ahal.ca/blog/2017/mach-try-fuzzy/'>Read more →</a>
</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2017/mercurial-absorb/">Absorbing Changes into a Commit Series with Mercurial</a></h2>
    <p class="blog-post-meta"><time datetime="2017-02-28T00:00:00Z">Feb 28, 2017</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/absorb/" rel="tag">absorb</a>, <a href="/tags/mercurial/" rel="tag">mercurial</a>, <a href="/tags/mozilla/" rel="tag">mozilla</a>

</p>
  </header>
  <p>Imagine this scenario. You&rsquo;ve pushed a large series of commits to your favourite review tool
(because you are a believer in the glory of microcommits). The reviewer however has found several
problems, and worse, they are spread across all of the commits in your series. How do you fix all
the issues with minimal fuss while preserving the commit order?</p>
  <a href='https://ahal.ca/blog/2017/mercurial-absorb/'>Read more →</a>
</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2017/fuzzy-try-chooser/">A Course of Action for Replacing Try Syntax</a></h2>
    <p class="blog-post-meta"><time datetime="2017-02-23T00:00:00Z">Feb 23, 2017</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/ateam/" rel="tag">ateam</a>, <a href="/tags/fzf/" rel="tag">fzf</a>, <a href="/tags/mozilla/" rel="tag">mozilla</a>, <a href="/tags/try/" rel="tag">try</a>

</p>
  </header>
  <p>I&rsquo;ve previously <a href="https://ahal.ca/blog/2015/try-syntax/">blogged</a> about why I believe try syntax is an antiquated development process
that should be replaced with something more modern and flexible. What follows is a series of ideas
that I&rsquo;m trying to convert into a concrete plan of action to bring this about. This is not an
<em>Intent to Implement</em> or anything like that, but my hope is that this outline is detailed enough
that it could be used as a solid starting point by someone with enough time and motivation to
work on it.</p>
  <a href='https://ahal.ca/blog/2017/fuzzy-try-chooser/'>Read more →</a>
</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2016/taskcluster-interactive-loaner/">Using One Click Loaner to Debug Failures</a></h2>
    <p class="blog-post-meta"><time datetime="2016-08-04T00:00:00Z">Aug 04, 2016</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/ateam/" rel="tag">ateam</a>, <a href="/tags/mozilla/" rel="tag">mozilla</a>, <a href="/tags/taskcluster/" rel="tag">taskcluster</a>

</p>
  </header>
  <p>One of the most painful aspects of a developer&rsquo;s work cycle is trying to fix failures that show up
on try, but which can&rsquo;t be reproduced locally. When this happens, there were really only two
options (neither of them nice):</p>
<ol>
<li>You could spam try with print debugging. But this isn&rsquo;t very powerful, and takes forever to get
feedback.</li>
<li>You could request a loaner from releng. But this is a heavy handed process, and once you have the
loaner it is very hard to get tests up and running.</li>
</ol>
<p>I&rsquo;m pleased to announce there is now a third option, which is easy, powerful and 100% self-serve.
Rather than trying to explain it in words, here is a ~5 minute demo:</p>
<!-- raw HTML omitted -->
  <a href='https://ahal.ca/blog/2016/taskcluster-interactive-loaner/'>Read more →</a>
</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2016/zen-of-mach/">The Zen of Mach</a></h2>
    <p class="blog-post-meta"><time datetime="2016-02-12T00:00:00Z">Feb 12, 2016</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/ateam/" rel="tag">ateam</a>, <a href="/tags/mach/" rel="tag">mach</a>, <a href="/tags/mozilla/" rel="tag">mozilla</a>

</p>
  </header>
  <p>Mach is the Mozilla developer&rsquo;s swiss army knife. It gathers all the important commands you&rsquo;ll ever
need to run, and puts them in one convenient place. Instead of hunting down documentation, or asking
for help on irc, often a simple |mach help| is all that&rsquo;s needed to get you started. Mach is great.
But lately, mach is becoming more like the Mozilla developer&rsquo;s toolbox. It still has everything you
need but it weighs a ton, and it takes a good deal of rummaging around to find anything.</p>
<p>Frankly, a good deal of the mach commands that exist now are either poorly written, confusing to use,
or even have no business being mach commands in the first place. Why is this important? What&rsquo;s wrong
with having a toolbox?</p>
  <a href='https://ahal.ca/blog/2016/zen-of-mach/'>Read more →</a>
</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2015/try-syntax/">Looking beyond Try Syntax</a></h2>
    <p class="blog-post-meta"><time datetime="2015-08-28T00:00:00Z">Aug 28, 2015</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/ateam/" rel="tag">ateam</a>, <a href="/tags/mozilla/" rel="tag">mozilla</a>, <a href="/tags/try/" rel="tag">try</a>

</p>
  </header>
  <p>Today marks the 5 year anniversary of try syntax. For the uninitiated, try syntax is a string that
you put into your commit message which a <a href="http://hg.mozilla.org/build/buildbotcustom/file/tip/try_parser.py">parser</a> then uses to determine the set of builds and
tests to run on your try push. A common try syntax might look like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>try: -b o -p linux -u mochitest -t none
</span></span></code></pre></div><p>Since inception, it has been a core part of the Mozilla development workflow.
For many years it has served us well, and even today it serves us passably. But it is almost time
for try syntax to don the wooden overcoat, and this post will explain why.</p>
  <a href='https://ahal.ca/blog/2015/try-syntax/'>Read more →</a>
</article> 






<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://ahal.ca/blog/2015/making-mercurial-bookmarks-more-git-like/">Making mercurial bookmarks more git-like</a></h2>
    <p class="blog-post-meta"><time datetime="2015-03-30T00:00:00Z">Mar 30, 2015</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/bookbinder/" rel="tag">bookbinder</a>, <a href="/tags/mercurial/" rel="tag">mercurial</a>, <a href="/tags/mozilla/" rel="tag">mozilla</a>

</p>
  </header>
  <p>I mentioned in my previous post a mercurial extension I wrote for making bookmarks easier to
manipulate. Since then it has undergone a large overhaul, and I believe it is now stable and
intuitive enough to advertise a bit more widely.</p>
<h2 id="introducing-bookbinder">Introducing bookbinder</h2>
<p>When working with bookmarks (or anonymous heads) I often wanted to operate on the
entire series of commits within the feature I was working on. I often found myself digging out
revision numbers to find the first commit in a bookmark to do things like rebasing, grafting or
diffing. This was annoying. I wanted bookmarks to work more like a git-style branch, that has a
definite start as well as an end. And I wanted to be able to easily refer to the set of commits
contained within. Enter <a href="https://hg.sr.ht/~ahal/bookbinder">bookbinder</a>.</p>
  <a href='https://ahal.ca/blog/2015/making-mercurial-bookmarks-more-git-like/'>Read more →</a>
</article> 





<nav class="blog-pagination">
  
  <a class="btn btn-outline-primary" href="/blog/" rel="prev" role="button">Previous page</a>
  <a class="btn btn-outline-primary" href="/blog/page/3/" rel="next" role="button">Next page</a>
  
  
  
</nav>





        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  

  
        <section class="sidebar-module">
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">


<li><a href="/casts/2021/taskgraph-diff/">Taskgraph Diff</a></li>

<li><a href="/blog/2021/phabricator-etiquette-part-2-the-author/">Phabricator Etiquette Part 2: The Author</a></li>

<li><a href="/blog/2021/phabricator-etiquette-part-1-the-reviewer/">Phabricator Etiquette Part 1: The Reviewer</a></li>

<li><a href="/blog/2021/ls-replacement/">A Better Replacement for ls</a></li>

<li><a href="/blog/2021/advanced-mach-try/">Advanced Mach Try</a></li>

<li><a href="/blog/2021/understanding-mach-try/">Understanding Mach Try</a></li>

<li><a href="/blog/2021/managing-multiple-mozconfigs/">Managing Multiple Mozconfigs</a></li>

<li><a href="/blog/2021/hide-your-lint-errors/">Hide Your Lint Errors</a></li>

<li><a href="/blog/2021/mozilla-devops/">DevOps at Mozilla</a></li>

<li><a href="/blog/2021/mozilla-build-windows-terminal/">A Better Terminal for Mozilla Build</a></li>

    </ol>
  </section>

  

  

  
  <section class="sidebar-module tag-cloud">
    <h4>Tag Cloud</h4>
    
    
        
            
            <a href="/tags/mozilla">mozilla</a>
        
    
        
            
            <a href="/tags/ateam">ateam</a>
        
    
        
            
            <a href="/tags/tips-and-tricks">tips-and-tricks</a>
        
    
        
            
            <a href="/tags/b2g">b2g</a>
        
    
        
            
            <a href="/tags/mercurial">mercurial</a>
        
    
        
            
            <a href="/tags/try">try</a>
        
    
        
            
            <a href="/tags/mach">mach</a>
        
    
        
            
            <a href="/tags/fzf">fzf</a>
        
    
        
            
            <a href="/tags/mozconfigwrapper">mozconfigwrapper</a>
        
    
        
            
            <a href="/tags/programming">programming</a>
        
    
        
            
            <a href="/tags/python">python</a>
        
    
        
            
            <a href="/tags/taskgraph">taskgraph</a>
        
    
        
            
            <a href="/tags/mozmill">mozmill</a>
        
    
        
            
            <a href="/tags/phabricator">phabricator</a>
        
    
        
            
            <a href="/tags/productivity">productivity</a>
        
    
        
            
            <a href="/tags/taskcluster">taskcluster</a>
        
    
        
            
            <a href="/tags/website">website</a>
        
    
        
            
            <a href="/tags/absorb">absorb</a>
        
    
        
            
            <a href="/tags/addon">addon</a>
        
    
        
            
            <a href="/tags/android">android</a>
        
    
        
            
            <a href="/tags/bookbinder">bookbinder</a>
        
    
        
            
            <a href="/tags/ci">ci</a>
        
    
        
            
            <a href="/tags/cycling">cycling</a>
        
    
        
            
            <a href="/tags/devops">devops</a>
        
    
        
            
            <a href="/tags/django">django</a>
        
    
        
            
            <a href="/tags/hugo">hugo</a>
        
    
        
            
            <a href="/tags/jetty">jetty</a>
        
    
        
            
            <a href="/tags/machine-learning">machine-learning</a>
        
    
        
            
            <a href="/tags/mozharness">mozharness</a>
        
    
        
            
            <a href="/tags/mozprofile">mozprofile</a>
        
    
        
            
            <a href="/tags/music">music</a>
        
    
        
            
            <a href="/tags/peptest">peptest</a>
        
    
        
            
            <a href="/tags/qqver">qqver</a>
        
    
        
            
            <a href="/tags/reddit">reddit</a>
        
    
        
            
            <a href="/tags/reftest">reftest</a>
        
    
        
            
            <a href="/tags/staticman">staticman</a>
        
    
        
            
            <a href="/tags/test-informant">test-informant</a>
        
    
        
            
            <a href="/tags/toronto">toronto</a>
        
    
  </section>
  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->
    

    
    <footer class="blog-footer">
      <p dir="auto">
      
      © 2018 Andrew Halberstadt
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>
    

  </body>

</html>
