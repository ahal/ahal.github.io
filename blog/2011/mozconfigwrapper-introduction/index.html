<!DOCTYPE html>
<html lang="en" >

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta property="og:title" content="An Easier way to Manage Mozconfigs" />
<meta property="og:description" content="Mozconfigwrapper is a tool inspired by Doug Hellman&rsquo;s magnificent virtualenvwrapper. In a
nutshell, mozconfigwrapper hides all of your mozconfigs into a configurable directory (defaults to
~/.mozconfigs), and lets you easily switch, create, remove, edit and list them. Mozconfigwrapper is
Unix only for now." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ahal.ca/blog/2011/mozconfigwrapper-introduction/" />
<meta property="article:published_time" content="2011-11-15T00:00:00+00:00" />
<meta property="article:modified_time" content="2011-11-15T00:00:00+00:00" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="An Easier way to Manage Mozconfigs"/>
<meta name="twitter:description" content="Mozconfigwrapper is a tool inspired by Doug Hellman&rsquo;s magnificent virtualenvwrapper. In a
nutshell, mozconfigwrapper hides all of your mozconfigs into a configurable directory (defaults to
~/.mozconfigs), and lets you easily switch, create, remove, edit and list them. Mozconfigwrapper is
Unix only for now."/>
<meta name="generator" content="Hugo 0.88.1" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "An Easier way to Manage Mozconfigs",
  "url": "https:\/\/ahal.ca\/blog\/2011\/mozconfigwrapper-introduction\/",
  "wordCount": "349",
  "datePublished": "2011-11-15T00:00:00\u002b00:00",
  "dateModified": "2011-11-15T00:00:00\u002b00:00",
  "author": {
    "@type": "Person",
    "name": "Andrew Halberstadt"
  },
  "keywords": "mozilla, mozconfigwrapper"
}
</script>



    <link rel="canonical" href="https://ahal.ca/blog/2011/mozconfigwrapper-introduction/">

    <title>An Easier way to Manage Mozconfigs | Hunting the Shmoo</title>

    
    <!-- combined, minified CSS -->
    
    <link href="https://ahal.ca/css/style.beb8012edc08ba10be012f079d618dc243812267efe62e11f22fe49618f976a4.css" rel="stylesheet" integrity="sha256-vrgBLtwIuhC&#43;AS8HnWGNwkOBImfv5i4R8i/klhj5dqQ=" crossorigin="anonymous">
    

    <!-- minified Font Awesome for SVG icons -->
    
    <script defer src="https://ahal.ca/js/fontawesome.min.ffbfea088a9a1666ec65c3a8cb4906e2a0e4f92dc70dbbf400a125ad2422123a.js" integrity="sha256-/7/qCIqaFmbsZcOoy0kG4qDk&#43;S3HDbv0AKElrSQiEjo=" crossorigin="anonymous"></script>

    <!-- RSS 2.0 feed -->
    

    <link rel="shortcut icon" href="/favicon.png">
<link href="https://ahal.ca/css/bootstrap.min.css" rel="stylesheet">
<link href="https://ahal.ca/css/override.css" rel="stylesheet">
<link href="https://ahal.ca/css/debugprint.css" rel="stylesheet">
<script type="text/javascript" src="/js/menu.js"></script>

  </head>

  <body>

    
    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link " href="https://ahal.ca/">Home</a>
          
          <a class="nav-link" href="/blog/" title="">Blog</a>
          
          
          <a class="nav-link" href="/casts/" title="">Casts</a>
          
        </nav>
      </div>
    </div>
    

    
    
    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title" dir="auto"><a href="https://ahal.ca/" rel="home">Hunting the Shmoo</a></h1>
        <p class="lead blog-description" dir="auto">Screencasts and blog posts on workflow, productivity, tools, Mozilla and whatever else tickles my fancy.</p>
      </div>
    </header>
    
    

    
    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="https://ahal.ca/blog/2011/mozconfigwrapper-introduction/">An Easier way to Manage Mozconfigs</a></h2>
    <p class="blog-post-meta"><time datetime="2011-11-15T00:00:00Z">Nov 15, 2011</time> by Andrew Halberstadt in 

<span class="fas fa-tag" aria-hidden="true"></span>&nbsp;<a href="/tags/mozilla/" rel="tag">mozilla</a>, <a href="/tags/mozconfigwrapper/" rel="tag">mozconfigwrapper</a>

</p>
  </header>
  <p><a href="https://github.com/ahal/mozconfigwrapper">Mozconfigwrapper</a> is a tool inspired by Doug Hellman&rsquo;s magnificent <a href="http://www.doughellmann.com/projects/virtualenvwrapper/">virtualenvwrapper</a>. In a
nutshell, mozconfigwrapper hides all of your mozconfigs into a configurable directory (defaults to
~/.mozconfigs), and lets you easily switch, create, remove, edit and list them. Mozconfigwrapper is
Unix only for now.</p>
<p>Mozconfigwrapper is brand new. I still need to add some better error checking and do testing on OSX.
So if you have any problems installing or using it, please let me know or <a href="https://github.com/ahal/mozconfigwrapper/issues">file an issue</a>.</p>
<h2 id="installation">Installation</h2>
<p>To install first make sure you have <a href="http://pypi.python.org/pypi/pip">pip</a>. Then run the command</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo pip install mozconfigwrapper
</code></pre></div><p>Next open up your ~/.bashrc file and add the line</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">source /usr/local/bin/mozconfigwrapper.sh
</code></pre></div><p>Note that it may have been installed to a different location on your system. You can use the command &lsquo;which mozconfigwrapper.sh&rsquo;
to find it.</p>
<p>Finally run the command</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">source ~/.bashrc
</code></pre></div><p>Mozconfigwrapper is now installed.</p>
<h2 id="usage">Usage</h2>
<p>Mozconfigwrapper allows you to create, remove, switch, list and edit mozconfigs.</p>
<p>To build with (activate) a mozconfig named foo, run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">buildwith foo
</code></pre></div><p>To create a mozconfig named foo, run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mkmozconfig foo
</code></pre></div><p>To delete a mozconfig named foo, run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">rmmozconfig foo
</code></pre></div><p>To see the currently active mozconfig, run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mozconfig
</code></pre></div><p>To list all mozconfigs, run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mozconfig -l
</code></pre></div><p>To edit the currently active mozconfig, run (the $EDITOR variable must be set):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mozconfig -e
</code></pre></div><h2 id="configuration">Configuration</h2>
<p>By default mozconfigs are stored in the ~/.mozconfigs directory, but you can override this by
setting the $BUILDWITH_HOME environment variable.
e.g, add:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">export BUILDWITH_HOME<span style="color:#f92672">=</span>~/my/custom/mozconfig/path 
</code></pre></div><p>to your ~/.bashrc file.</p>
<p>When you make a new mozconfig, it will be populated with some basic build commands and the name of
the mozconfig will be appended to the end of the OBJDIR instruction. You can modify what gets
populated by default by editing the ~/.mozconfigs/.template file. For example, if I wanted my
default configuration to store object directories in a folder called objdirs and enable debugging
and tests, I&rsquo;d edit the ~/.mozconfigs/.template file to look like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mk_add_options MOZ_OBJDIR<span style="color:#f92672">=</span>@TOPSRCDIR@/objdirs/
ac_add_options --enable-application<span style="color:#f92672">=</span>browser
ac_add_options --enable-debug
ac_add_options --enable-tests
</code></pre></div><p>Now if I ran the command &lsquo;mkmozconfig foo&rsquo;, foo would be populated with the above and have the word
&lsquo;foo&rsquo; appended to the first line.</p>

  

  
  <hr>
  <footer>

  
    <section>
    <h4>Share</h4>
    <nav class="nav sharing-icons">
      <a class="nav-item" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fahal.ca%2fblog%2f2011%2fmozconfigwrapper-introduction%2f" title="Share on Facebook"><span class="fab fa-facebook-f fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fahal.ca%2fblog%2f2011%2fmozconfigwrapper-introduction%2f" title="Share on LinkedIn"><span class="fab fa-linkedin-in fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://twitter.com/intent/tweet?url=https%3a%2f%2fahal.ca%2fblog%2f2011%2fmozconfigwrapper-introduction%2f&amp;text=An%20Easier%20way%20to%20Manage%20Mozconfigs" title="Tweet this"><span class="fab fa-twitter fa-2x"></span></a>
    </nav>
  </section>

  

  
    <section class="post-comments">
      <script src="https://utteranc.es/client.js"
        repo="ahal/hunting-the-shmoo"
        issue-term="pathname"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

    </section>
  
  </footer>
  

</article> 



        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  

  
        <section class="sidebar-module">
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">


<li><a href="/casts/2021/taskgraph-diff/">Taskgraph Diff</a></li>

<li><a href="/blog/2021/phabricator-etiquette-part-2-the-author/">Phabricator Etiquette Part 2: The Author</a></li>

<li><a href="/blog/2021/phabricator-etiquette-part-1-the-reviewer/">Phabricator Etiquette Part 1: The Reviewer</a></li>

<li><a href="/blog/2021/ls-replacement/">A Better Replacement for ls</a></li>

<li><a href="/blog/2021/advanced-mach-try/">Advanced Mach Try</a></li>

<li><a href="/blog/2021/understanding-mach-try/">Understanding Mach Try</a></li>

<li><a href="/blog/2021/managing-multiple-mozconfigs/">Managing Multiple Mozconfigs</a></li>

<li><a href="/blog/2021/hide-your-lint-errors/">Hide Your Lint Errors</a></li>

<li><a href="/blog/2021/mozilla-devops/">DevOps at Mozilla</a></li>

<li><a href="/blog/2021/mozilla-build-windows-terminal/">A Better Terminal for Mozilla Build</a></li>

    </ol>
  </section>

  

  

  
  <section class="sidebar-module tag-cloud">
    <h4>Tag Cloud</h4>
    
    
        
            
            <a href="/tags/mozilla">mozilla</a>
        
    
        
            
            <a href="/tags/ateam">ateam</a>
        
    
        
            
            <a href="/tags/tips-and-tricks">tips-and-tricks</a>
        
    
        
            
            <a href="/tags/b2g">b2g</a>
        
    
        
            
            <a href="/tags/mercurial">mercurial</a>
        
    
        
            
            <a href="/tags/try">try</a>
        
    
        
            
            <a href="/tags/mach">mach</a>
        
    
        
            
            <a href="/tags/fzf">fzf</a>
        
    
        
            
            <a href="/tags/mozconfigwrapper">mozconfigwrapper</a>
        
    
        
            
            <a href="/tags/programming">programming</a>
        
    
        
            
            <a href="/tags/python">python</a>
        
    
        
            
            <a href="/tags/taskgraph">taskgraph</a>
        
    
        
            
            <a href="/tags/mozmill">mozmill</a>
        
    
        
            
            <a href="/tags/phabricator">phabricator</a>
        
    
        
            
            <a href="/tags/productivity">productivity</a>
        
    
        
            
            <a href="/tags/taskcluster">taskcluster</a>
        
    
        
            
            <a href="/tags/website">website</a>
        
    
        
            
            <a href="/tags/absorb">absorb</a>
        
    
        
            
            <a href="/tags/addon">addon</a>
        
    
        
            
            <a href="/tags/android">android</a>
        
    
        
            
            <a href="/tags/bookbinder">bookbinder</a>
        
    
        
            
            <a href="/tags/ci">ci</a>
        
    
        
            
            <a href="/tags/cycling">cycling</a>
        
    
        
            
            <a href="/tags/devops">devops</a>
        
    
        
            
            <a href="/tags/django">django</a>
        
    
        
            
            <a href="/tags/hugo">hugo</a>
        
    
        
            
            <a href="/tags/jetty">jetty</a>
        
    
        
            
            <a href="/tags/machine-learning">machine-learning</a>
        
    
        
            
            <a href="/tags/mozharness">mozharness</a>
        
    
        
            
            <a href="/tags/mozprofile">mozprofile</a>
        
    
        
            
            <a href="/tags/music">music</a>
        
    
        
            
            <a href="/tags/peptest">peptest</a>
        
    
        
            
            <a href="/tags/qqver">qqver</a>
        
    
        
            
            <a href="/tags/reddit">reddit</a>
        
    
        
            
            <a href="/tags/reftest">reftest</a>
        
    
        
            
            <a href="/tags/staticman">staticman</a>
        
    
        
            
            <a href="/tags/test-informant">test-informant</a>
        
    
        
            
            <a href="/tags/toronto">toronto</a>
        
    
  </section>
  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->
    

    
    <footer class="blog-footer">
      <p dir="auto">
      
      Â© 2018 Andrew Halberstadt
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>
    

  </body>

</html>
